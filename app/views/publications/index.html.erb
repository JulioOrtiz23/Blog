<!--This is the index view, have all the information and scrood of the table publication-->
<p id="notice"><%= notice %></p>

 <% if user_signed_in? %> <!--This help to the website for know if exist a user logged in-->
  <div class="cuadro">
    <h1>Publicaciones</h1>

    <!--This is the table that have the data of the publications and have the options for show
    edit or destroy a publication-->
    <table>
      <thead>
        <tr>
          <th>Descripcion</th>
          <th>Fecha ingreso</th>
          <th>Usuario</th>
          <th>Publicacion</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @publications.each do |publication| %>
          <tr> 
          
            <td><%= publication.descripcion %></td>
            <td><%= publication.fecha_ingreso %></td>
            <td><%= publication.user_id %></td>
            <td><%= link_to 'Mostrar', publication %></td> <!--Show option-->
            <td><%= link_to 'Editar', edit_publication_path(publication) %></td> <!--edit option-->
            <td><%= link_to 'Eliminar', publication, method: :delete, data: { confirm: '¿Estas seguro?' } %></td> <!--destroy option-->
            
          </tr>
        <% end %>
      </tbody>
    </table>

    <br>

    <%= link_to 'Nueva Publicaciòn', nueva_publicacion_path %> <!--Option to create a new publication-->
</div>

<% else %>

<!--This is a code that wnen you haven't logged in, the website show you this part-->
<body class="background">
  <div class="inicio">
    <h1 style="padding-top:5%;"> Debes iniciar sesion o registrarte</h1>
  </div>
</body>

<% end %>